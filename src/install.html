<!doctype html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Open in mpv - Installation Required</title>
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css"
      rel="stylesheet"
      integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH"
      crossorigin="anonymous"
    />
    <style>
      body {
        background-color: #f8f9fa;
      }

      .platform {
        display: none;
      }

      .platform.active {
        display: block;
      }
    </style>
  </head>

  <body>
    <div class="container my-5">
      <div class="card shadow">
        <div class="card-body p-4">
          <h1 class="card-title mb-4">üéâ Open in mpv Extension Installed!</h1>
          <div class="alert alert-warning" role="alert">
            <strong>‚ö†Ô∏è Important:</strong> To use this extension, you need to install the native
            messaging host component on your system.
          </div>
          <h2 class="mt-4 mb-3">Installation Instructions</h2>
          <div id="windows-instructions" class="platform">
            <div class="alert alert-info border-start border-info border-4">
              <h3>Windows</h3>
              <p>
                Download and run the Windows installer which will automatically install the native
                messaging host and mpv:
              </p>
              <a href="#" class="btn btn-primary" id="windows-download"
                >Download Windows Installer</a
              >
            </div>
          </div>
          <div id="linux-instructions" class="platform">
            <div class="alert alert-info border-start border-info border-4">
              <h3>Linux</h3>
              <p>
                If you installed open-in-mpv with a package manager, you may not need to do
                anything. If your package manager does not set up open-in-mpv system-wide, run
                <code>open-in-mpv-install --user --force</code>.
              </p>
              <p>Install using pip:</p>
              <pre class="bg-dark text-light p-3 rounded"><code>pip install --user open-in-mpv
open-in-mpv-install --user --force</code></pre>
              <p>Make sure you have mpv (and optionally yt-dlp) installed on your system.</p>
            </div>
          </div>
          <div id="mac-instructions" class="platform">
            <div class="alert alert-info border-start border-info border-4">
              <h3>macOS</h3>
              <ol>
                <li>
                  Install mpv using
                  <a href="https://mpv.io/installation/" target="_blank"
                    >one of the supported methods</a
                  >.
                </li>
                <li>
                  Optional but highly recommended: install
                  <a
                    target="_blank"
                    href="https://github.com/yt-dlp/yt-dlp?tab=readme-ov-file#release-files"
                    >yt-dlp</a
                  >
                  by placing <code>yt-dlp_macos</code> atr <code>/usr/local/bin/yt-dlp</code>, or by
                  using your package manager.
                </li>
                <li>
                  Install the host-side component with the official package:<br />
                  <a href="#" class="btn btn-primary" id="macos-download">Download macOS Package</a>
                </li>
              </ol>
              <h4>Terminal</h4>
              <p>Steps 1 and 2, for Apple Silicon only:</p>
              <pre
                class="bg-dark text-light p-3 rounded"
              ><code>curl -LO 'https://laboratory.stolendata.net/~djinn/mpv_osx/mpv-arm64-latest.tar.gz'
tar xvf mpv-arm64-latest.tar.gz
mv mpv-arm64*/mpv.app /Applications/
rm mpv-arm64-latest.tar.gz
sudo curl -Lo /usr/local/bin/yt-dlp 'https://github.com/yt-dlp/yt-dlp/releases/latest/download/yt-dlp_macos'</code></pre>
            </div>
          </div>
          <h2 class="mt-4 mb-3">Next Steps</h2>
          <ol>
            <li>Follow the platform-specific instructions above</li>
            <li>Restart your browser</li>
            <li>Right-click on any video link or page and select "Open in mpv"</li>
          </ol>
          <p>
            For more information, visit the
            <a href="https://github.com/Tatsh/open-in-mpv" target="_blank">project page</a>.
          </p>
        </div>
      </div>
    </div>
    <script
      src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"
      integrity="sha384-YvpcrYf0tY3lHB60NNkmXc5s9fDVZLESaAA55NDzOxhy9GkcIdslK1eN7N6jIeHz"
      crossorigin="anonymous"
    ></script>
    <script src="install.js"></script>
  </body>
</html>
